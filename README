This is a "plugin" for the Video Disk Recorder (VDR).

Written by:                  Stefan Braun <louis.braun@gmx.de>

Project's homepage:          
http://projects.vdr-developer.org/projects/plg-tvscraper

Latest version available at: 
http://projects.vdr-developer.org/projects/plg-tvscraper/files

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.
See the file COPYING for more information.

Description 
-----------

TVScraper runs in the background and collects metadata (posters, 
banners, fanart, actor thumbs and roles, descriptions) for all 
available EPG events on selectable channels and for recordings. 
Additionally the plugin provides the collected metadata via the VDR 
service interface to other plugins which deal with EPG information.

TVScraper uses the thetvdb.com API for collecting series metadata and
themoviedb.org API for movies. Check the websites of both services for
the terms of use.

Important: To avoid unnecessary traffic, only activate these channels 
to be scrapped which are reasonable. After plugin installation all 
channels are deactivated by default, so please consider this point when 
you activate the channels you are interested in ;)

Additionally you are invited to contribute to the used web services with
providing missing data for your favorite movies and series.

Requirements
------------

To run the plugin the following libaries have to be installed:
- libsqlite3
- libcurl
- libXML2
- libjansson

Installation and configuration
------------------------------

Just install the plugin depending on your used distribution. During VDR
startup the plugin base directory can be set with the following option:

-d <CACHEDIR>, --dir=<CACHEDIR> Set directory where database and images 
                                are stored

If no directory is provided, the plugin uses VDRCACHEDIR as default. 
Please care about that the user who runs VDR has full read/write access 
to this directory, otherwise the plugin will not start.

As already mentioned, after first installations no channels are activated
to be scrapped. Please configure these channels in the plugin setup menu. 
Additionally you can trigger that your already existing recordings are 
scrapped, so that also for this recordings metadata is available.

The plugins uses a sqlite3 database to store the necessary information. 
If /dev/shm/ is available, the database is kept in memory during runtime 
which improves performance. In the configured plugin basedir only a 
persistant backup of the database is stored then. If /dev/shm/ is not 
available, only the database file in the plugin base directory is used.

Usage
-----

After the initial configuration the plugin runs completely independent in
the background, you don't have to care about anything. The plugins checks
at least every 24 hours for new EPG events and collects the metadata for
these events automatically. 

Before each run the plugin performs a cleanup, all images for movies which 
are not available in the current EPG are deleted. Series and actors thumbs 
are kept to avoid unnecessary traffic for the web services, because the 
propability that this data is needed in the future again is rather high. 

If a running recording is detected, the plugin marks the corresponding movie 
meta data so that the information for this movie will be kept permanentely.